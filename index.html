<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–î–ª—è –ú–∞–ª–∏–∫—É—à–∏ ‚ù§Ô∏è</title>

<style>
body{
    margin:0;
    font-family: 'Segoe UI', sans-serif;
    text-align:center;
    color:#fff;
    overflow-x:hidden;
    background: linear-gradient(-45deg,#ff4e8a,#ff758c,#ff7eb3,#ff9acb);
    background-size:400% 400%;
    animation: gradient 10s ease infinite;
}
@keyframes gradient{
    0%{background-position:0% 50%}
    50%{background-position:100% 50%}
    100%{background-position:0% 50%}
}

.container{
    padding:40px 20px;
    max-width:500px;
    margin:auto;
    min-height:100vh;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
}

h1{font-size:30px;margin-bottom:15px;}
h2{font-size:22px;margin-bottom:20px;}

button{
    width:100%;
    padding:18px;
    margin:12px 0;
    font-size:18px;
    border:none;
    border-radius:30px;
    cursor:pointer;
    font-weight:bold;
    background:white;
    color:#ff4e8a;
    transition:0.3s;
}
button:active{
    transform:scale(0.95);
}

.hidden{display:none;}

#runBtn{position:relative;}

#countdown{
    font-size:20px;
    margin-top:20px;
    font-weight:bold;
}

.fade{
    animation:fadeIn 0.8s ease forwards;
}
@keyframes fadeIn{
    from{opacity:0;transform:translateY(20px);}
    to{opacity:1;transform:translateY(0);}
}

.heart{
    position:fixed;
    top:-10px;
    font-size:22px;
    animation:fall 5s linear infinite;
}
@keyframes fall{
    to{transform:translateY(100vh);}
}

.typing{
    border-right:2px solid white;
    white-space:nowrap;
    overflow:hidden;
    animation:typing 3s steps(40,end), blink .7s infinite;
}
@keyframes typing{
    from{width:0}
    to{width:100%}
}
@keyframes blink{
    50%{border-color:transparent}
}
</style>
</head>

<body>

<div class="container fade" id="start">
<h1 class="typing">–ü—Ä–∏–≤–µ—Ç, –ú–∞–ª–∏–∫—É—à–∞ ‚ù§Ô∏è</h1>
<p>–Ø —Å–¥–µ–ª–∞–ª –¥–ª—è —Ç–µ–±—è –æ—Å–æ–±–µ–Ω–Ω—ã–π –∫–≤–µ—Å—Ç.</p>
<button onclick="next('q1')">–ù–∞—á–∞—Ç—å</button>
</div>

<div class="container hidden" id="q1">
<h2>–ö—Ç–æ —Å–∞–º–∞—è —á–æ—Ç–∫–∞—è –¥–µ–≤–æ—á–∫–∞?</h2>
<button onclick="wrong('e1')">–ö—Ç–æ-—Ç–æ</button>
<button onclick="next('q2')">–ú–∞–ª–∏–∫—É—à–∞ ‚ù§Ô∏è</button>
<button onclick="wrong('e1')">–•–µ–∑–µ</button>
<p id="e1"></p>
</div>

<div class="container hidden" id="q2">
<h2>–ù–∞—Å–∫–æ–ª—å–∫–æ —è —Ç–µ–±—è –ª—é–±–ª—é?</h2>
<button onclick="next('final'); startHearts(); playSound();">
–û—á–µ–Ω—å –æ—á–µ–Ω—å –æ—á–µ–Ω—å —Å–∏–ª—å–Ω–æ üíñ
</button>
<button id="runBtn">–ù–µ–º–Ω–æ–≥–æ üòà</button>
</div>

<div class="container hidden" id="final">
<h1>–Ø –ª—é–±–ª—é —Ç–µ–±—è, –ú–∞–ª–∏–∫—É—à–∞ ‚ù§Ô∏è</h1>
<p>–ò —Å—á–∏—Ç–∞—é —Å–µ–∫—É–Ω–¥—ã –¥–æ –Ω–∞—à–µ–π –≤—Å—Ç—Ä–µ—á–∏.</p>
<div id="countdown"></div>
<button onclick="hug()">–û–±–Ω—è—Ç—å</button>
<p id="hugText"></p>
</div>

<audio id="popSound">
<source src="https://www.soundjay.com/buttons/sounds/button-3.mp3" type="audio/mpeg">
</audio>

<script>
function next(id){
    document.querySelectorAll('.container')
    .forEach(el=>el.classList.add('hidden'));
    let el=document.getElementById(id);
    el.classList.remove('hidden');
    el.classList.add('fade');
}

function wrong(id){
    document.getElementById(id).innerText="–ü–æ–¥—É–º–∞–π –µ—â—ë üòå";
}

function hug(){
    document.getElementById("hugText")
    .innerText="3 –º–∞—Ä—Ç–∞ –æ–±–Ω–∏–º—É –ø–æ-–Ω–∞—Å—Ç–æ—è—â–µ–º—É ‚ù§Ô∏è";
}

function playSound(){
    document.getElementById("popSound").play();
}

/* –£–±–µ–≥–∞—é—â–∞—è –∫–Ω–æ–ø–∫–∞ */
let runBtn=document.getElementById("runBtn");
runBtn.addEventListener("mouseover",move);
runBtn.addEventListener("touchstart",move);

function move(){
    let x=Math.random()*(window.innerWidth-runBtn.offsetWidth);
    let y=Math.random()*(window.innerHeight-runBtn.offsetHeight);
    runBtn.style.position="fixed";
    runBtn.style.left=x+"px";
    runBtn.style.top=y+"px";
}

/* –°–µ—Ä–¥—Ü–∞ */
function startHearts(){
    setInterval(()=>{
        let heart=document.createElement("div");
        heart.classList.add("heart");
        heart.style.left=Math.random()*100+"vw";
        heart.innerText="‚ù§Ô∏è";
        document.body.appendChild(heart);
        setTimeout(()=>heart.remove(),5000);
    },250);
}

/* –°—á—ë—Ç—á–∏–∫ –¥–æ 3 –º–∞—Ä—Ç–∞ */
function updateCountdown(){
    let now=new Date();
    let year=now.getFullYear();
    let meetDate=new Date(year,2,3);
    if(now>meetDate){
        meetDate=new Date(year+1,2,3);
    }
    let diff=meetDate-now;

    let days=Math.floor(diff/(1000*60*60*24));
    let hours=Math.floor((diff/(1000*60*60))%24);
    let minutes=Math.floor((diff/(1000*60))%60);
    let seconds=Math.floor((diff/1000)%60);

    document.getElementById("countdown").innerHTML=
    days+" –¥ "+hours+" —á "+minutes+" –º "+seconds+" —Å";
}

setInterval(updateCountdown,1000);
updateCountdown();
</script>

</body>
</html>
